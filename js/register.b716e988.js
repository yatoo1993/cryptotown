(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"127b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{},[t.sended?i("span",[t._v(t._s(t.ms)+"s")]):i("md-button",{attrs:{type:"primary",plain:"",round:""},on:{click:t.startTimer}},[t._v("发送")])],1)},o=[],n=i("365c"),a={name:"send-code",props:{value:String,isAuth:{type:Boolean,default:function(){return!1}},type:{type:String,required:!0}},data:function(){return{sended:!1,ms:60}},methods:{runTimer:function(){var t=this;if(!this.sended){var e=setInterval((function(){if(t.ms<=0)return t.ms=60,t.sended=!1,void clearInterval(e);t.sended=!0,t.ms--}),1e3);this.$toast.succeed("验证码发送成功"),this.sended=!0}},startTimer:function(){var t;if("mobile"===this.type){if(!this.isAuth&&!this.value)return this.$toast.info("请输入手机号");t={mobile:this.value,area:"86"},Object(n["m"])(t).then(this.runTimer)}else{if(!this.isAuth&&!this.value)return this.$toast.info("请输入邮箱");t={email:this.value},Object(n["l"])(t).then(this.runTimer)}}}},r=a,l=i("2877"),c=Object(l["a"])(r,s,o,!1,null,null,null);e["a"]=c.exports},7803:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register big-bg common"},[i("div",{staticClass:"md-form"},[i("h3",{staticClass:"title"},[t._v("立即注册")]),i("div",{staticClass:"tabs account-tabs"},[t.useMobile?i("div",{staticClass:"account-tabs-item",class:{active:"mobile"===t.type},on:{click:function(e){return t.toogle("mobile")}}},[t._v("手机注册")]):t._e(),i("div",{staticClass:"account-tabs-item",class:{active:"email"===t.type},on:{click:function(e){return t.toogle("email")}}},[t._v("邮箱注册")])]),i("md-field",["mobile"===t.type?i("md-input-item",{ref:"mobile",attrs:{type:"phone",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}},[i("span",{staticClass:"input-icon icon-user",attrs:{slot:"left"},slot:"left"})]):t._e(),"email"===t.type?i("md-input-item",{ref:"email",attrs:{type:"email",placeholder:"请输入邮箱号"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[i("span",{staticClass:"input-icon icon-user",attrs:{slot:"left"},slot:"left"})]):t._e(),i("md-input-item",{attrs:{type:"number",placeholder:"请输入验证码"},model:{value:t.form[t.code[t.type]],callback:function(e){t.$set(t.form,t.code[t.type],e)},expression:"form[code[type]]"}},[i("span",{staticClass:"input-icon icon-code",attrs:{slot:"left"},slot:"left"}),i("SendCode",{attrs:{slot:"right",value:t.form[t.type],type:t.type},slot:"right"})],1),i("md-input-item",{attrs:{type:"visible"===t.visible?"text":"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[i("span",{staticClass:"input-icon icon-secret",attrs:{slot:"left"},slot:"left"}),i("span",{attrs:{slot:"right"},on:{click:t.toogleVisible},slot:"right"},[i("md-icon",{attrs:{name:t.visible,size:"lg"}})],1)]),i("md-input-item",{attrs:{placeholder:"请输入邀请码"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},[i("span",{staticClass:"input-icon icon-invite",attrs:{slot:"left"},slot:"left"})]),i("div",{staticClass:"submit-btn"},[i("md-button",{attrs:{type:"primary",round:"",loading:t.luck},on:{click:t.submit}},[t._v("立即注册")])],1),i("div",{staticClass:"sign-link"},[i("router-link",{attrs:{to:"/login"}},[t._v(" 已有账号， "),i("span",{staticClass:"primary"},[t._v("直接登录")])])],1)],1)],1)])},o=[],n=(i("d3b7"),i("5530")),a=i("127b"),r=i("ed08"),l=i("365c"),c=i("5880"),m={name:"register",components:{SendCode:a["a"]},data:function(){return{type:"email",form:{area:"86",mobile:"",sms_code:"",email_code:"",email:"",password:"",parent_id:this.$route.query.invite},code:{mobile:"sms_code",email:"email_code"},visible:"invisible",luck:!1}},computed:Object(n["a"])({},Object(c["mapGetters"])(["useMobile"])),methods:{toogle:function(t){this.type=t},toogleVisible:function(){"visible"===this.visible?this.visible="invisible":this.visible="visible"},resolve:function(){this.$router.push("/login"),this.$toast.succeed("注册成功")},submit:function(){var t,e=this;if("mobile"===this.type){if(t={area:this.form.area,mobile:this.form.mobile,sms_code:this.form.sms_code,password:this.form.password,parent_id:this.form.parent_id},!r["b"].bind(this)(t,r["a"]))return;Object(l["i"])(t).then(this.resolve).finally((function(){return e.luck=!1}))}else{if(t={email:this.form.email,email_code:this.form.email_code,password:this.form.password,parent_id:this.form.parent_id},!r["b"].bind(this)(t,r["a"]))return;Object(l["h"])(t).then(this.resolve).finally((function(){return e.luck=!1}))}}}},u=m,d=i("2877"),p=Object(d["a"])(u,s,o,!1,null,null,null);e["default"]=p.exports},ed08:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));i("b64b");var s={mobile:"请输入手机号",sms_code:"请输入短信验证码",email_code:"请输入邮箱验证码",email:"请输入邮箱",password:"请输入密码",parent_id:"请输入邀请码"};function o(t,e){for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i];if(e[o]&&!t[o])return void this.$toast.info(e[o])}return!0}}}]);