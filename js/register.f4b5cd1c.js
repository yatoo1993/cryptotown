(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"127b":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{},[t.sended?s("span",[t._v(t._s(t.ms)+"s")]):s("md-button",{attrs:{type:"primary",plain:"",round:""},on:{click:t.startTimer}},[t._v("发送")])],1)},o=[],a=s("365c"),n={name:"send-code",props:{value:String,isAuth:{type:Boolean,default:function(){return!1}},type:{type:String,required:!0}},data:function(){return{sended:!1,ms:60}},methods:{runTimer:function(){var t=this;if(!this.sended){var e=setInterval((function(){if(t.ms<0)return t.ms=60,t.sended=!1,void clearInterval(e);t.sended=!0,t.ms--}),1e3);this.$toast.succeed("验证码发送成功"),this.sended=!0}},startTimer:function(){var t;if("mobile"===this.type){if(!this.isAuth&&!this.value)return this.$toast.info("请输入手机号");t={mobile:this.value,area:"86"},Object(a["m"])(t).then(this.runTimer)}else{if(!this.isAuth&&!this.value)return this.$toast.info("请输入邮箱");t={email:this.value},Object(a["l"])(t).then(this.runTimer)}}}},r=n,l=s("2877"),c=Object(l["a"])(r,i,o,!1,null,null,null);e["a"]=c.exports},7803:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register big-bg common"},[s("div",{staticClass:"md-form"},[s("h3",{staticClass:"title"},[t._v("立即注册")]),s("div",{staticClass:"tabs account-tabs"},[s("div",{staticClass:"account-tabs-item",class:{active:"mobile"===t.type},on:{click:function(e){return t.toogle("mobile")}}},[t._v("手机注册")]),s("div",{staticClass:"account-tabs-item",class:{active:"email"===t.type},on:{click:function(e){return t.toogle("email")}}},[t._v("邮箱注册")])]),s("md-field",["mobile"===t.type?s("md-input-item",{ref:"mobile",attrs:{type:"phone",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}},[s("span",{staticClass:"input-icon icon-user",attrs:{slot:"left"},slot:"left"})]):t._e(),"email"===t.type?s("md-input-item",{ref:"email",attrs:{type:"email",placeholder:"请输入邮箱号"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[s("span",{staticClass:"input-icon icon-user",attrs:{slot:"left"},slot:"left"})]):t._e(),s("md-input-item",{attrs:{type:"number",placeholder:"请输入验证码"},model:{value:t.form[t.code[t.type]],callback:function(e){t.$set(t.form,t.code[t.type],e)},expression:"form[code[type]]"}},[s("span",{staticClass:"input-icon icon-code",attrs:{slot:"left"},slot:"left"}),s("SendCode",{attrs:{slot:"right",value:t.form[t.type],type:t.type},slot:"right"})],1),s("md-input-item",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[s("span",{staticClass:"input-icon icon-secret",attrs:{slot:"left"},slot:"left"})]),s("md-input-item",{attrs:{placeholder:"请输入邀请码"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},[s("span",{staticClass:"input-icon icon-invite",attrs:{slot:"left"},slot:"left"})]),s("div",{staticClass:"submit-btn"},[s("md-button",{attrs:{type:"primary",round:"",loading:t.luck},on:{click:t.submit}},[t._v("立即注册")])],1),s("div",{staticClass:"sign-link"},[s("router-link",{attrs:{to:"/login"}},[t._v(" 已有账号， "),s("span",{staticClass:"primary"},[t._v("直接登录")])])],1)],1)],1)])},o=[],a=(s("d3b7"),s("127b")),n=s("ed08"),r=s("365c"),l={name:"register",components:{SendCode:a["a"]},data:function(){return{type:"mobile",form:{area:"86",mobile:"",sms_code:"",email_code:"",email:"",password:"",parent_id:this.$route.query.invite},code:{mobile:"sms_code",email:"email_code"},luck:!1}},methods:{toogle:function(t){this.type=t},resolve:function(){this.$router.push("/login"),this.$toast.succeed("注册成功")},submit:function(){var t,e=this;if("mobile"===this.type){if(t={area:this.form.area,mobile:this.form.mobile,sms_code:this.form.sms_code,password:this.form.password,parent_id:this.form.parent_id},!n["b"].bind(this)(t,n["a"]))return;Object(r["i"])(t).then(this.resolve).finally((function(){return e.luck=!1}))}else{if(t={email:this.form.email,email_code:this.form.email_code,password:this.form.password,parent_id:this.form.parent_id},!n["b"].bind(this)(t,n["a"]))return;Object(r["h"])(t).then(this.resolve).finally((function(){return e.luck=!1}))}}}},c=l,m=s("2877"),u=Object(m["a"])(c,i,o,!1,null,null,null);e["default"]=u.exports},ed08:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return o}));s("b64b");var i={mobile:"请输入手机号",sms_code:"请输入短信验证码",email_code:"请输入邮箱验证码",email:"请输入邮箱",password:"请输入密码",parent_id:"请输入邀请码"};function o(t,e){for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s];if(e[o]&&!t[o])return void this.$toast.info(e[o])}return!0}}}]);